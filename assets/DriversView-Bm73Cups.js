import{d as y,i as f,s as S,r as v,w as C,_ as h,c as d,a as m,b as D,e as _,F as g,f as w,o as p}from"./index-CjNhhtoy.js";import{u as R,S as V}from"./SeasonComp-C5kaYpd3.js";import{b as E}from"./data-D2MIXG_S.js";import{D as I}from"./DriverCard-DTkw8Fkn.js";import"./SeasonHeading-HXMxUqfe.js";import"./unknown-driver-YpsWjNMN.js";import"./QCard-W9fa1EMT.js";const N=y("drivers",()=>{const t=f("$yearInit"),o=f("$yearCrnt"),a=R(),{year:e}=S(a),{updateYear:l}=a,r=v([]),n=v(!1),c=v(null),i=async s=>{if(e.value=s,r.value.length<=0){n.value=!0;try{r.value=await E(s),console.log("DRIVERSTANDINGS STORE: ",r.value)}catch(u){c.value=u.message}finally{n.value=!1}}};return C(e,(s,u)=>{s!==u&&e.value>=t&&e.value<=o&&(r.value=[],i(e.value))}),{year:e,drivers:r,isLoading:n,err:c,getDrivers:i,updateYear:l}}),T={name:"DriversView",components:{SeasonComp:V,DriverCard:I},setup(){const t=N(),{year:o,drivers:a,isLoading:e}=S(t),{getDrivers:l,updateYear:r}=t;return{year:o,drivers:a,isLoading:e,getDrivers:l,updateYear:r}},mounted(){this.getDrivers(this.year),console.log("DRIVERS MOUNTED: ",this.drivers)}},k={class:"q-col-gutter-md row list-unstyled"},x=["id"];function B(t,o,a,e,l,r){const n=_("SeasonComp"),c=_("DriverCard");return p(),d(g,null,[o[0]||(o[0]=m("h1",null,"Drivers",-1)),D(n,{season:e.year},null,8,["season"]),m("div",null,[m("ul",k,[(p(!0),d(g,null,w(e.drivers,(i,s)=>(p(),d("li",{class:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2",key:"driver_"+s,id:"driver_"+s},[D(c,{season:e.year,driver:i.Driver,position:i.position},null,8,["season","driver","position"])],8,x))),128))])])],64)}const q=h(T,[["render",B]]);export{q as default};
