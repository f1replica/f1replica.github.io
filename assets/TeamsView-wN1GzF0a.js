const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TeamDrivers-BSn-j3SK.js","assets/index-lzYlOZCb.js","assets/index-VixUdvK6.css","assets/TeamDrivers-DVFpWHJL.css"])))=>i.map(i=>d[i]);
import{d as L,i as C,s as R,r as v,w as N,_ as D,I,A as k,o as E,m as S,n as d,J as M,e as p,g as m,b as i,a as s,c as g,p as h,t as u,T as U,F as w,f as V,l as x}from"./index-lzYlOZCb.js";import{u as A,S as B}from"./SeasonComp-CRkWqT5_.js";import{e as O,f as Q}from"./data-BQr7bUVa.js";import{Q as q,a as y}from"./QCard-CXz-CbzL.js";import{r as b,Q as P}from"./QSeparator-QPdrDqlP.js";import"./SeasonHeading-DoV17v1a.js";const j=L("teams",()=>{const o=C("$yearInit"),a=C("$yearCrnt"),t=A(),{year:e}=R(t),{updateYear:r}=t,n=v([]),l=v(!1),f=v(null),_=async c=>{if(e.value=c,n.value.length<=0){l.value=!0;try{n.value=await O(c),console.log("CONSTRUCTORSTANDINGS STORE: ",n.value)}catch(T){f.value=T.message}finally{l.value=!1}}};return N(e,(c,T)=>{c!==T&&e.value>=o&&e.value<=a&&(n.value=[],_(e.value))}),{year:e,teams:n,isLoading:l,err:f,getTeams:_,updateYear:r}}),F={name:"TeamCard",props:["season","team"],components:{TeamDrivers:I(()=>M(()=>import("./TeamDrivers-BSn-j3SK.js"),__vite__mapDeps([0,1,2,3])))},setup(o){const a=o.team.Constructor,t=v([]),e=k(()=>b(String(a.nationality)));return E(()=>{const r=Math.floor(Math.random()*4250)+1250;setTimeout(async()=>{const n=await Q(o.season,a.constructorId);t.value=n},r)}),{drivers:t,flagURL:e}}},Y={class:"team-pstn"},G={class:"team-name"},J={key:0,class:"has-flag"},W=["src","alt"];function z(o,a,t,e,r,n){const l=p("TeamDrivers");return m(),S(q,{class:"card full-height"},{default:d(()=>[i(y,{class:"card-header row justify-between q-pa-sm"},{default:d(()=>[s("h3",null,[s("span",Y,[s("span",null,u(t.team.position||t.team.positionText),1)]),s("span",G,u(t.team.Constructor.name),1)]),typeof e.flagURL<"u"&&e.flagURL!==""?(m(),g("div",J,[s("img",{src:e.flagURL,alt:t.team.Constructor.nationality},null,8,W)])):h("",!0)]),_:1}),i(P,{color:"white"}),i(y,{class:"card-body q-pa-sm"},{default:d(()=>[s("dl",null,[a[0]||(a[0]=s("dt",null,"Points",-1)),s("dd",null,u(t.team.points),1),a[1]||(a[1]=s("dt",null,"Wins",-1)),s("dd",null,u(t.team.wins),1),a[2]||(a[2]=s("dt",null,"Nationality",-1)),s("dd",null,u(t.team.Constructor.nationality),1)])]),_:1}),i(U,null,{default:d(()=>[e.drivers!==void 0&&e.drivers.length>0?(m(),S(y,{key:0,class:"card-footer q-pa-sm"},{default:d(()=>[i(l,{season:t.season,drivers:e.drivers},null,8,["season","drivers"])]),_:1})):h("",!0)]),_:1})]),_:1})}const H=D(F,[["render",z],["__scopeId","data-v-a1c61220"]]),K={name:"TeamsView",components:{SeasonComp:B,TeamCard:H},setup(){const o=j(),{year:a,teams:t,isLoading:e}=R(o),{getTeams:r,updateYear:n}=o;return x(()=>{r(a.value),console.log("TEAMS MOUNTED: ",t)}),{year:a,teams:t,isLoading:e,getTeams:r,updateYear:n}}},X={class:"q-col-gutter-md row list-unstyled"},Z=["id"];function $(o,a,t,e,r,n){const l=p("SeasonComp"),f=p("TeamCard");return m(),g(w,null,[a[0]||(a[0]=s("h1",null,"Teams",-1)),i(l,{season:e.year},null,8,["season"]),s("ul",X,[(m(!0),g(w,null,V(e.teams,(_,c)=>(m(),g("li",{key:"team_"+c,id:"team_"+c,class:"col-12 col-sm-6 col-lg-4"},[i(f,{season:e.year,team:_},null,8,["season","team"])],8,Z))),128))])],64)}const re=D(K,[["render",$]]);export{re as default};
