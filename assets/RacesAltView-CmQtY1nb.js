import{d as f,r as c,w as p,_ as h,c as n,a as r,v as d,t as u,y as m,z as R,F as y,f as w,l as g,g as i}from"./index-BTUOgP2Q.js";import{g as _}from"./data-BQr7bUVa.js";const v=f("racesAlt",{state:()=>({yearInit:1950,yearCrnt:new Date().getFullYear(),year:c(new Date().getFullYear()),races:c([])}),actions:{updateYear(s){this.year=s,p(()=>this.year,async()=>{this.year>=this.yearInit&&this.year<=this.yearCrnt&&await this.fetchRaces(this.year)}),console.log("YEAR: ",this.year)},async fetchRaces(s){this.races=await _(s)}}}),Y={emits:["updateRouterHistory"],setup(s,{emit:e}){const t=v();return t.updateYear(t.year),g(()=>{t.fetchRaces(t.year),e("updateRouterHistory",!1)}),{store:t}}},x=["id"];function A(s,e,t,a,V,k){return i(),n(y,null,[r("h1",null,[e[2]||(e[2]=d("Races season / ")),e[3]||(e[3]=r("code",null,"RacesAltView",-1)),d(" "+u(a.store.year),1)]),r("div",null,[m(r("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>a.store.year=o)},null,512),[[R,a.store.year]]),r("button",{onClick:e[1]||(e[1]=o=>a.store.updateYear(a.store.year))},"Update season")]),r("ul",null,[(i(!0),n(y,null,w(a.store.races,(o,l)=>(i(),n("li",{key:"race_"+l,id:"race_"+l},u(o.Circuit.circuitName),9,x))),128))])],64)}const F=h(Y,[["render",A],["__scopeId","data-v-5e7fa07d"]]);export{F as default};
