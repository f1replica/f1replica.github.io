import{d as y,i as p,s as S,r as m,w as C,_ as h,c as d,a as _,b as g,e as R,F as v,f as w,o as E,g as f}from"./index-D6ATZrlE.js";import{u as B,S as V}from"./SeasonComp-DyL0AtIG.js";import{g as $}from"./data-BQr7bUVa.js";import{R as k}from"./RaceCard-4FpN4OUS.js";import"./SeasonHeading-ynBiFn1t.js";import"./QCard-K1gQq6l6.js";const x=y("races",()=>{const r=p("$yearInit"),s=p("$yearCrnt"),t=B(),{year:e}=S(t),{updateYear:n}=t,a=m([]),c=m(!1),l=m(null),u=async o=>{if(e.value=o,a.value.length<=0){c.value=!0;try{a.value=await $(o),console.log("RACES STORE: ",a.value)}catch(i){l.value=i.message}finally{c.value=!1}}};return C(e,(o,i)=>{o!==i&&e.value>=r&&e.value<=s&&(a.value=[],u(e.value))}),{year:e,races:a,isLoading:c,err:l,getRaces:u,updateYear:n}}),L={name:"RacesView",components:{SeasonComp:V,RaceCard:k},setup(){const r=x(),{year:s,races:t,isLoading:e}=S(r),{getRaces:n,updateYear:a}=r;return E(()=>{n(s.value),console.log("RACES MOUNTED: ",t)}),{year:s,races:t,isLoading:e,getRaces:n,updateYear:a}}},N={class:"q-col-gutter-md row list-unstyled"},T=["id"];function A(r,s,t,e,n,a){const c=R("SeasonComp"),l=R("RaceCard");return f(),d(v,null,[s[0]||(s[0]=_("h1",null,"Races",-1)),g(c,{season:e.year},null,8,["season"]),_("ul",N,[(f(!0),d(v,null,w(e.races,(u,o)=>(f(),d("li",{key:"race_"+o,id:"race_"+o,class:"col-12 col-sm-6 col-lg-4 col-xl-3"},[g(l,{race:u,"has-race-details":!1},null,8,["race"])],8,T))),128))])],64)}const j=h(L,[["render",A]]);export{j as default};
