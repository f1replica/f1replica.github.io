const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TeamDrivers-6io5oqvp.js","assets/index-D6ATZrlE.js","assets/index-bxIx6eFS.css","assets/TeamDrivers-DVFpWHJL.css"])))=>i.map(i=>d[i]);
import{d as L,i as p,s as R,r as v,w as N,_ as D,I as k,x as I,o as x,h as S,l as m,J as E,e as C,g as d,b as i,a as s,c as g,j as h,t as u,T as M,F as w,f as U,k as V}from"./index-D6ATZrlE.js";import{u as B,S as O}from"./SeasonComp-DyL0AtIG.js";import{e as Q,f as q}from"./data-BQr7bUVa.js";import{Q as A,a as y}from"./QCard-K1gQq6l6.js";import{r as b,Q as j}from"./QSeparator-DRilzseF.js";import"./SeasonHeading-ynBiFn1t.js";const P=L("teams",()=>{const o=p("$yearInit"),a=p("$yearCrnt"),t=B(),{year:e}=R(t),{updateYear:r}=t,n=v([]),l=v(!1),f=v(null),_=async c=>{if(e.value=c,n.value.length<=0){l.value=!0;try{n.value=await Q(c),console.log("CONSTRUCTORSTANDINGS STORE: ",n.value)}catch(T){f.value=T.message}finally{l.value=!1}}};return N(e,(c,T)=>{c!==T&&e.value>=o&&e.value<=a&&(n.value=[],_(e.value))}),{year:e,teams:n,isLoading:l,err:f,getTeams:_,updateYear:r}}),F={name:"TeamCard",props:["season","team"],components:{TeamDrivers:k(()=>E(()=>import("./TeamDrivers-6io5oqvp.js"),__vite__mapDeps([0,1,2,3])))},setup(o){const a=o.team.Constructor,t=v([]),e=I(()=>b(String(a.nationality)));return x(()=>{const r=Math.floor(Math.random()*4250)+1250;setTimeout(async()=>{const n=await q(o.season,a.constructorId);t.value=n},r)}),{drivers:t,flagURL:e}}},Y={class:"team-pstn"},G={class:"team-name"},J={key:0,class:"has-flag"},W=["src","alt"];function z(o,a,t,e,r,n){const l=C("TeamDrivers");return d(),S(A,{class:"card full-height"},{default:m(()=>[i(y,{class:"card-header row justify-between q-pa-sm"},{default:m(()=>[s("h3",null,[s("span",Y,[s("span",null,u(t.team.position||t.team.positionText),1)]),s("span",G,u(t.team.Constructor.name),1)]),e.flagURL!==void 0&&e.flagURL!==""?(d(),g("div",J,[s("img",{src:e.flagURL,alt:t.team.Constructor.nationality},null,8,W)])):h("",!0)]),_:1}),i(j,{color:"white"}),i(y,{class:"card-body q-pa-sm"},{default:m(()=>[s("dl",null,[a[0]||(a[0]=s("dt",null,"Points",-1)),s("dd",null,u(t.team.points),1),a[1]||(a[1]=s("dt",null,"Wins",-1)),s("dd",null,u(t.team.wins),1),a[2]||(a[2]=s("dt",null,"Nationality",-1)),s("dd",null,u(t.team.Constructor.nationality),1)])]),_:1}),i(M,null,{default:m(()=>[e.drivers!==void 0&&e.drivers.length>0?(d(),S(y,{key:0,class:"card-footer q-pa-sm"},{default:m(()=>[i(l,{season:t.season,drivers:e.drivers},null,8,["season","drivers"])]),_:1})):h("",!0)]),_:1})]),_:1})}const H=D(F,[["render",z],["__scopeId","data-v-e0ee5cde"]]),K={name:"TeamsView",components:{SeasonComp:O,TeamCard:H},setup(){const o=P(),{year:a,teams:t,isLoading:e}=R(o),{getTeams:r,updateYear:n}=o;return V(()=>{r(a.value),console.log("TEAMS MOUNTED: ",t)}),{year:a,teams:t,isLoading:e,getTeams:r,updateYear:n}}},X={class:"q-col-gutter-md row list-unstyled"},Z=["id"];function $(o,a,t,e,r,n){const l=C("SeasonComp"),f=C("TeamCard");return d(),g(w,null,[a[0]||(a[0]=s("h1",null,"Teams",-1)),i(l,{season:e.year},null,8,["season"]),s("ul",X,[(d(!0),g(w,null,U(e.teams,(_,c)=>(d(),g("li",{key:"team_"+c,id:"team_"+c,class:"col-12 col-sm-6 col-lg-4"},[i(f,{season:e.year,team:_},null,8,["season","team"])],8,Z))),128))])],64)}const re=D(K,[["render",$]]);export{re as default};
