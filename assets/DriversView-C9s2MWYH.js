import{d as y,i as f,s as S,r as v,w as C,_ as w,c as d,a as m,b as _,e as D,F as g,f as R,k as V,g as p}from"./index-DQOcmNd4.js";import{u as h,S as E}from"./SeasonComp-BJ7tLjhO.js";import{b as I}from"./data-BQr7bUVa.js";import{D as N}from"./DriverCard-BlVEir-C.js";import"./SeasonHeading-JHgaCm4F.js";import"./unknown-driver-F0_lepC3.js";import"./QCard-DqCfLbWh.js";const k=y("drivers",()=>{const a=f("$yearInit"),s=f("$yearCrnt"),t=h(),{year:e}=S(t),{updateYear:n}=t,r=v([]),i=v(!1),c=v(null),l=async o=>{if(e.value=o,r.value.length<=0){i.value=!0;try{r.value=await I(o),console.log("DRIVERSTANDINGS STORE: ",r.value)}catch(u){c.value=u.message}finally{i.value=!1}}};return C(e,(o,u)=>{o!==u&&e.value>=a&&e.value<=s&&(r.value=[],l(e.value))}),{year:e,drivers:r,isLoading:i,err:c,getDrivers:l,updateYear:n}}),T={name:"DriversView",components:{SeasonComp:E,DriverCard:N},setup(){const a=k(),{year:s,drivers:t,isLoading:e}=S(a),{getDrivers:n,updateYear:r}=a;return V(()=>{n(s.value),console.log("DRIVERS MOUNTED: ",t)}),{year:s,drivers:t,isLoading:e,getDrivers:n,updateYear:r}}},x={class:"q-col-gutter-md row list-unstyled"},B=["id"];function L(a,s,t,e,n,r){const i=D("SeasonComp"),c=D("DriverCard");return p(),d(g,null,[s[0]||(s[0]=m("h1",null,"Drivers",-1)),_(i,{season:e.year},null,8,["season"]),m("div",null,[m("ul",x,[(p(!0),d(g,null,R(e.drivers,(l,o)=>(p(),d("li",{class:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2",key:"driver_"+o,id:"driver_"+o},[_(c,{season:e.year,driver:l.Driver,position:l.position},null,8,["season","driver","position"])],8,B))),128))])])],64)}const q=w(T,[["render",L]]);export{q as default};
