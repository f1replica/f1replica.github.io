const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TeamDrivers-Cw8B2Gea.js","assets/index-DWn2HCBf.js","assets/index-DoPbfaOF.css","assets/TeamDrivers-DVFpWHJL.css"])))=>i.map(i=>d[i]);
import{Q as O}from"./QBanner-UlaV9Djd.js";import{d as b,i as w,s as D,r as y,w as x,_ as I,I as L,A as Q,e as C,h as d,J as A,f as S,j as l,b as i,a as s,c as _,p as R,t as f,T as N,F as k,g as B,n as U}from"./index-DWn2HCBf.js";import{u as V,S as q}from"./SeasonComp-DHhP5ExV.js";import{e as E,f as F}from"./data-BWVDeIet.js";import{Q as P,a as T}from"./QCard-BsQQ47Uz.js";import{r as j,Q as M}from"./QSeparator-D58Z52zN.js";import"./SeasonHeading-D0sgmWvP.js";const G=b("teams",()=>{const m=w("$yearInit"),t=w("$yearCrnt"),e=V(),{year:a}=D(e),{updateYear:u}=e,n=y([]),o=y(!1),v=y(null),p=async c=>{if(a.value=c,n.value.length<=0){o.value=!0;try{n.value=await E(c),console.log("CONSTRUCTOR STANDINGS STORE BFR: ",n.value),n.value.map(r=>{const h=Math.floor(Math.random()*6250)+1250;setTimeout(async()=>{r.drivers=await g(c,r.Constructor.constructorId)},h)}),console.log("CONSTRUCTOR STANDINGS STORE AFT: ",n.value)}catch(r){v.value=r.message}finally{o.value=!1}}},g=async(c,r)=>await F(c,r);return x(a,(c,r)=>{c!==r&&a.value>=m&&a.value<=t&&(n.value=[],p(a.value))}),{year:a,teams:n,isLoading:o,err:v,getTeams:p,updateYear:u}}),H={name:"TeamCard",props:["season","team"],components:{TeamDrivers:L(()=>A(()=>import("./TeamDrivers-Cw8B2Gea.js"),__vite__mapDeps([0,1,2,3])))},setup(m){const t=m.team.Constructor,e=y([]),a=Q(()=>j(String(t.nationality)));return{drivers:e,flagURL:a}}},W={class:"team-pstn"},Y={class:"team-name"},J={key:0,class:"has-flag"},z=["src","alt"];function K(m,t,e,a,u,n){const o=S("TeamDrivers");return l(),C(P,{class:"card full-height"},{default:d(()=>[i(T,{class:"card-header row justify-between q-pa-sm"},{default:d(()=>[s("h3",null,[s("span",W,[s("span",null,f(e.team.position||e.team.positionText),1)]),s("span",Y,f(e.team.Constructor.name),1)]),typeof a.flagURL<"u"&&a.flagURL!==""?(l(),_("div",J,[s("img",{src:a.flagURL,alt:e.team.Constructor.nationality},null,8,z)])):R("",!0)]),_:1}),i(M,{color:"white"}),i(T,{class:"card-body q-pa-sm"},{default:d(()=>[s("dl",null,[t[0]||(t[0]=s("dt",null,"Points",-1)),s("dd",null,f(e.team.points),1),t[1]||(t[1]=s("dt",null,"Wins",-1)),s("dd",null,f(e.team.wins),1),t[2]||(t[2]=s("dt",null,"Nationality",-1)),s("dd",null,f(e.team.Constructor.nationality),1)])]),_:1}),i(N,null,{default:d(()=>[typeof e.team.drivers<"u"&&e.team.drivers.length>0?(l(),C(T,{key:0,class:"card-footer q-pa-sm"},{default:d(()=>[i(o,{season:e.season,drivers:e.team.drivers},null,8,["season","drivers"])]),_:1})):R("",!0)]),_:1})]),_:1})}const X=I(H,[["render",K],["__scopeId","data-v-0471e254"]]),Z={name:"TeamsView",emits:["updateRouterHistory"],components:{SeasonComp:q,TeamCard:X},setup(m,{emit:t}){const e=G(),{year:a,teams:u}=D(e),{getTeams:n,updateYear:o}=e;return U(()=>{n(a.value),t("updateRouterHistory",!1)}),{year:a,teams:u,getTeams:n,updateYear:o}}},$={key:0,class:"q-col-gutter-md row list-unstyled"},ee=["id"];function ae(m,t,e,a,u,n){const o=S("SeasonComp"),v=S("TeamCard");return l(),_(k,null,[t[1]||(t[1]=s("h1",null,"Teams",-1)),i(o,{season:a.year},null,8,["season"]),a.teams.length>0?(l(),_("ul",$,[(l(!0),_(k,null,B(a.teams,(p,g)=>(l(),_("li",{key:"team_"+g,id:"team_"+g,class:"col-12 col-sm-6 col-lg-4"},[i(v,{season:a.year,team:p},null,8,["season","team"])],8,ee))),128))])):(l(),C(N,{key:1,appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:d(()=>[i(O,{class:"q-py-md bg-amber-8 text-white",rounded:""},{default:d(()=>[...t[0]||(t[0]=[s("h2",{class:"text-white"},"Warning!",-1),s("p",{class:"no-margin"}," Data is missing or update is in progress. Please check back later. Tnanks! ",-1)])]),_:1})]),_:1}))],64)}const ce=I(Z,[["render",ae],["__scopeId","data-v-f4dbaea2"]]);export{ce as default};
