import{d as g,i as f,s as S,r as v,w as C,_ as w,c as d,a as m,b as _,e as y,F as D,f as R,l as h,g as p}from"./index-D2hfezUN.js";import{u as V,S as x}from"./SeasonComp-DA2aas3e.js";import{b as I}from"./data-BQr7bUVa.js";import{D as N}from"./DriverCard-zagf9IT7.js";import"./SeasonHeading-DI3qYSsS.js";import"./unknown-driver-CCIFAnec.js";import"./QCard-DApohdXD.js";const T=g("drivers",()=>{const c=f("$yearInit"),t=f("$yearCrnt"),a=V(),{year:e}=S(a),{updateYear:i}=a,r=v([]),s=v(!1),l=v(null),n=async o=>{if(e.value=o,r.value.length<=0){s.value=!0;try{r.value=await I(o),console.log("DRIVER STANDINGS STORE: ",r.value)}catch(u){l.value=u.message}finally{s.value=!1}}};return C(e,(o,u)=>{o!==u&&e.value>=c&&e.value<=t&&(r.value=[],n(e.value))}),{year:e,drivers:r,isLoading:s,err:l,getDrivers:n,updateYear:i}}),k={name:"DriversView",emits:["updateRouterHistory"],components:{SeasonComp:x,DriverCard:N},setup(c,{emit:t}){const a=T(),{year:e,drivers:i}=S(a),{getDrivers:r,updateYear:s}=a;return h(()=>{r(e.value),t("updateRouterHistory",!1)}),{year:e,drivers:i,getDrivers:r,updateYear:s}}},B={class:"q-col-gutter-md row list-unstyled"},E=["id"];function $(c,t,a,e,i,r){const s=y("SeasonComp"),l=y("DriverCard");return p(),d(D,null,[t[0]||(t[0]=m("h1",null,"Drivers",-1)),_(s,{season:e.year},null,8,["season"]),m("div",null,[m("ul",B,[(p(!0),d(D,null,R(e.drivers,(n,o)=>(p(),d("li",{class:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2",key:"driver_"+o,id:"driver_"+o},[_(l,{season:e.year,driver:n.Driver,position:n.position||n.positionText},null,8,["season","driver","position"])],8,E))),128))])])],64)}const A=w(k,[["render",$]]);export{A as default};
