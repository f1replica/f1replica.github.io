import{p as r,x as J,r as s,y as k,z as F,A as L,B as l,T as V,C as I,D as X,w as M,E as f,G as Z}from"./index-CjNhhtoy.js";const H={ratio:[String,Number]};function W(e,o){return r(()=>{const u=Number(e.ratio||(o!==void 0?o.value:void 0));return isNaN(u)!==!0&&u>0?{paddingBottom:`${100/u}%`}:null})}const G=1.7778,K=J({name:"QImg",props:{...H,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:G},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:o,emit:u}){const S=s(e.initialRatio),w=W(e,S),m=Z(),{registerTimeout:T,removeTimeout:v}=k(),{registerTimeout:U,removeTimeout:z}=k(),A=r(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),B=r(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),t=[s(null),s(A.value)],n=s(0),c=s(!1),g=s(!1),q=r(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),j=r(()=>({width:e.width,height:e.height})),N=r(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),C=r(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function P(){if(z(),e.loadingShowDelay===0){c.value=!0;return}U(()=>{c.value=!0},e.loadingShowDelay)}function h(){z(),c.value=!1}function Q({target:i}){f(m)===!1&&(v(),S.value=i.naturalHeight===0?.5:i.naturalWidth/i.naturalHeight,y(i,1))}function y(i,a){a===1e3||f(m)===!0||(i.complete===!0?b(i):T(()=>{y(i,a+1)},50))}function b(i){f(m)!==!0&&(n.value=n.value^1,t[n.value].value=null,h(),i.getAttribute("__qerror")!=="true"&&(g.value=!1),u("load",i.currentSrc||i.src))}function O(i){v(),h(),g.value=!0,t[n.value].value=B.value,t[n.value^1].value=A.value,u("error",i)}function R(i){const a=t[i].value,d={key:"img_"+i,class:N.value,style:C.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...a};return n.value===i?Object.assign(d,{class:d.class+"current",onLoad:Q,onError:O}):d.class+="loaded",l("div",{class:"q-img__container absolute-full",key:"img"+i},l("img",d))}function D(){return c.value===!1?l("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},I(o[g.value===!0?"error":"default"])):l("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},o.loading!==void 0?o.loading():e.noSpinner===!0?void 0:[l(X,{color:e.spinnerColor,size:e.spinnerSize})])}{let i=function(){M(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,a=>{v(),g.value=!1,a===null?(h(),t[n.value^1].value=A.value):P(),t[n.value].value=a},{immediate:!0})};F.value===!0?L(i):i()}return()=>{const i=[];return w.value!==null&&i.push(l("div",{key:"filler",style:w.value})),t[0].value!==null&&i.push(R(0)),t[1].value!==null&&i.push(R(1)),i.push(l(V,{name:"q-transition--fade"},D)),l("div",{key:"main",class:q.value,style:j.value,role:"img","aria-label":e.alt},i)}}}),E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZwAAAGcBAMAAAAfbwsKAAAAGFBMVEVHcEyUlJiUlJiUlJiUlJiUlJiUlJiUlJgX+8myAAAAB3RSTlMA3IOxVS8VdqblbAAAB5RJREFUeNrtnUtz20YQhPkAoKtKlowrFdnClUpZxpWKE/FKRbF4BWWXeRVAUvP3Y5VdTiWlmIvdIdHT2v4HX81uT88uHr1eVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUlJK+fPxYcZCkv51dyJPqX6/ts3xD+a5XE8swn8/kv7q0C3Mhz+jYIEn2+9lFLs/ryJonJGfyM9mqT/pzGGM897ls1YkZmk/iIiv+di9CxJPkjjg29k8hznqPTzN0p5F6xlQcfHvLrqSVsMuTFe1oZAON07I24OX5XLbGAS5PdiNCVB73BmrC3KYeNLi9JxEvoZZn7ocDWp4098ORNSTOrfhqhFicwhtnhTi0lUJUnvTUnwawPCHFkRquPB8kRGhjdnYRhIO2e+7zMJw101r7unsqkqbzXWMknEEeirNmWmtgq+00GAfJ29I8HOe1+cENdfN8UsABym1XCjg4XpAVCjhyB+MEpQYOzBFIkmvgNCirbaiCA3MeulChkXMQnBsdnBMinwZqpIUOzgrEC3ScAGbzKNGArLZUCwcj5yRaOBgzz0ANB2LmGQrV5tHDgZh5+kLlBQdqOBAzz1IPB+ER+LkezjkXDsLzlFMunEIP5yTiAOMgXCqWejjrigqnATjNyRVxJlQ4Ky4chFigSCOXFVV1jiuq6nTv1JkmziriAON0/5xrxHkxON0ffqQ5V3UizkvBWUUc4AjakOF0n6gVzwpkw4UDcP+miTPmwplQ4SC8B1dStR1VHK5DXYSb+IjzQu53Lrmq85YL55oL545q79QIOFOqjKP1VDgKzpAqsik+PLm6o8KBsAK9J3WlAcDRPKQGmEY1++ghVwbdcOGQDTwIXpBz4UjEwcXRvOtdc1WHDGfD5WwPMeQA44y5Qs6I6uwDYkCY6+EAXIj0DvSmawAatlcTB1ShQPHs4xEBJ6PqooopZwSBUzK1HcU+WkHgLJl8Wu8l8gYDR6vxgHynPqHyabXGg+HTak49A8GZ8uRpPaduUHCGPAFUz9rGKDgZlRPoWBvQl0HnPJlAK7WNcXASqq2jMZA2QDQKueAQCWdAtdbCVxvUWgvvPCMsnIKmh2p4wSMYTuCMMAHDCcsFNRhN4MgD9zuuhKeHho88IzScsD46gcMJajwVHE5Q44GjCbq/rvFwhkQRJ9CpGzycjKmLho0Ij4A4AU79AIgTkKnHgDh9powTdPox6VFZW9WjsjZEGn9rqyFxlkQZJyS1YeIkRJEtZCAFxSmIEmjP/0px06PygkdMnJQoUAfkgkNQnAUXTsIz7gRYNSzOkGZ6+zbz5FQ4fn+3xMVJuXC8Tt6BcRKivuNZnjUwzoBlGvVvpTOu8rzmKg/Ah441y9NUVOWpkTePR3kmyDjtP5dxyYUD3Xk8zg9HXDgNFw60GXjgbIBxPM7bai4cZDPwwdlw4UD8s1sPB3i1eeHgth6vs936LRWONHdUOAi/59TEqa+pcOQdJM2t9+MfiKvN98YX9Hg34Dk9xPKEvJk0xsOZB+A0PL7G+CZPQ2RsiIcGga9fb4iMDXCMC3whFq2VBr6uzPZuvBzz+DTcfUIaTAM1Zmt8lAXoNk7ly4A4PDrfbYSZFA5UcGAus+c6OBC/g+wpfsIVw64LLRw5pwgFWLOCIk4NwJPr4SD8pk8TB8CuRVUdp+v0VBdHjr50mT9z0dbRH0w0X3m6usVKd0HT2S1WWspu9K4LnmxXNLJ6U/HU5oln77eMf+ayQ+351jQ9k93q1T7j21+l7Fr72z7ZB9m9Vvsqz20u+9CRzZD2v/rlzrqh/dvd3uyaJ9tbafaRdpJS9qujimOh/UhvM9P2vLfDt7SQTnTOsW122k7vc+lKO7C3W+lO+meJXdLovwPcLY32S7NXHdPo3vx0TqN6cXoj3euEZt/oXizcC4SUHqPYyaGtzz2JTnkKDBqp37PYgN7BQSI4qniW2pMeqYqj8M75FAkn+JmDFIomeLX1sXBWREYQPiaArbXQx60XaDhhQ2mJhlPTNJ1wq17i4RwyrbWgzQO41kI2zwIQJ6DzlIg4Y6a1FhDbINea/3tLBSROzZLXwrxgCIozYphDQ3NBBkrjmQtQ15qntaGuNU9ry1FxvKxtAEvjZW1LXJwxS/z0Tm0JLo2PU/eBcRqW+Ol7FJoJsngigV/jmULjjHgigU/jGUDTtB4Rltg4DzyRwCMWpNg0bWNBnwtnCo7TLuX4/bsJNuWA23Tb8XrOhVOi4wjL5OaRQftcOAU+zoRlcmuNM+DCmRvAGTHZdBscAzbdBqfPhVNQ4Viw6RY4Qy6cORdOToVjwqbdcRZcOIUNnAmTTTvjDLlw5kZwZjxp+kkVk0274vSt4FDZtOOxoRWbdjyjHnDhWLFpxwsRKzbtdl1lxqbdcMzYtNtV79QMjstFPPwV4j86ZLJpt4dYlnZwRkw27TQfpHZoXAL10A5NTWXTTpHNjk27RDZDNu2ScRaGcB55BlG3UJAZonHookNLOBOeQdQtFBhKOA5dNLFUnBXRIOrURS3Z9PY/rZqy6e2j9cAUzpjKprd30dIUzoxoEJXttyGmEs72tjM1hbMmGkQd2k5ia+u8fgbhb+YJhG4dT1boAAAAAElFTkSuQmCC";export{K as Q,E as _};
