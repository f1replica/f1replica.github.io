const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TeamDrivers-C_7f-dTW.js","assets/index-BTUOgP2Q.js","assets/index--WRx8U8_.css","assets/TeamDrivers-DVFpWHJL.css"])))=>i.map(i=>d[i]);
import{d as L,i as R,s as D,r as y,w as O,_ as I,I as k,A,m as h,n as d,J as U,e as g,g as m,b as i,a as s,c as p,p as w,t as f,T as V,F as N,f as x,l as B}from"./index-BTUOgP2Q.js";import{u as E,S as Q}from"./SeasonComp-CMNRa2SR.js";import{e as q,f as F}from"./data-BQr7bUVa.js";import{Q as b,a as C}from"./QCard-B9SDgbBc.js";import{r as M,Q as P}from"./QSeparator-BzTbv4nb.js";import"./SeasonHeading-Df4Tx8xM.js";const j=L("teams",()=>{const c=R("$yearInit"),a=R("$yearCrnt"),e=E(),{year:t}=D(e),{updateYear:u}=e,n=y([]),o=y(!1),_=y(null),v=async l=>{if(t.value=l,n.value.length<=0){o.value=!0;try{n.value=await q(l),console.log("CONSTRUCTOR STANDINGS STORE BFR: ",n.value),n.value.map(r=>{const S=Math.floor(Math.random()*6250)+1250;setTimeout(async()=>{r.drivers=await T(l,r.Constructor.constructorId)},S)}),console.log("CONSTRUCTOR STANDINGS STORE AFT: ",n.value)}catch(r){_.value=r.message}finally{o.value=!1}}},T=async(l,r)=>await F(l,r);return O(t,(l,r)=>{l!==r&&t.value>=c&&t.value<=a&&(n.value=[],v(t.value))}),{year:t,teams:n,isLoading:o,err:_,getTeams:v,updateYear:u}}),G={name:"TeamCard",props:["season","team"],components:{TeamDrivers:k(()=>U(()=>import("./TeamDrivers-C_7f-dTW.js"),__vite__mapDeps([0,1,2,3])))},setup(c){const a=c.team.Constructor,e=y([]),t=A(()=>M(String(a.nationality)));return{drivers:e,flagURL:t}}},H={class:"team-pstn"},Y={class:"team-name"},J={key:0,class:"has-flag"},W=["src","alt"];function z(c,a,e,t,u,n){const o=g("TeamDrivers");return m(),h(b,{class:"card full-height"},{default:d(()=>[i(C,{class:"card-header row justify-between q-pa-sm"},{default:d(()=>[s("h3",null,[s("span",H,[s("span",null,f(e.team.position||e.team.positionText),1)]),s("span",Y,f(e.team.Constructor.name),1)]),typeof t.flagURL<"u"&&t.flagURL!==""?(m(),p("div",J,[s("img",{src:t.flagURL,alt:e.team.Constructor.nationality},null,8,W)])):w("",!0)]),_:1}),i(P,{color:"white"}),i(C,{class:"card-body q-pa-sm"},{default:d(()=>[s("dl",null,[a[0]||(a[0]=s("dt",null,"Points",-1)),s("dd",null,f(e.team.points),1),a[1]||(a[1]=s("dt",null,"Wins",-1)),s("dd",null,f(e.team.wins),1),a[2]||(a[2]=s("dt",null,"Nationality",-1)),s("dd",null,f(e.team.Constructor.nationality),1)])]),_:1}),i(V,null,{default:d(()=>[typeof e.team.drivers<"u"&&e.team.drivers.length>0?(m(),h(C,{key:0,class:"card-footer q-pa-sm"},{default:d(()=>[i(o,{season:e.season,drivers:e.team.drivers},null,8,["season","drivers"])]),_:1})):w("",!0)]),_:1})]),_:1})}const K=I(G,[["render",z],["__scopeId","data-v-0471e254"]]),X={name:"TeamsView",emits:["updateRouterHistory"],components:{SeasonComp:Q,TeamCard:K},setup(c,{emit:a}){const e=j(),{year:t,teams:u}=D(e),{getTeams:n,updateYear:o}=e;return B(()=>{n(t.value),a("updateRouterHistory",!1)}),{year:t,teams:u,getTeams:n,updateYear:o}}},Z={class:"q-col-gutter-md row list-unstyled"},$=["id"];function ee(c,a,e,t,u,n){const o=g("SeasonComp"),_=g("TeamCard");return m(),p(N,null,[a[0]||(a[0]=s("h1",null,"Teams",-1)),i(o,{season:t.year},null,8,["season"]),s("ul",Z,[(m(!0),p(N,null,x(t.teams,(v,T)=>(m(),p("li",{key:"team_"+T,id:"team_"+T,class:"col-12 col-sm-6 col-lg-4"},[i(_,{season:t.year,team:v},null,8,["season","team"])],8,$))),128))])],64)}const le=I(X,[["render",ee]]);export{le as default};
