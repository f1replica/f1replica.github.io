import{Q as h}from"./QBanner-UlaV9Djd.js";import{d as C,i as _,s as S,r as m,w as k,_ as w,c as d,a as p,b as f,e as x,f as g,F as y,g as T,h as D,T as b,n as I,j as i}from"./index-DWn2HCBf.js";import{u as R,S as B}from"./SeasonComp-DHhP5ExV.js";import{b as V}from"./data-BWVDeIet.js";import{D as N}from"./DriverCard-Dadm3SfK.js";import"./SeasonHeading-D0sgmWvP.js";import"./unknown-driver-BMa36Mmp.js";import"./QCard-BsQQ47Uz.js";const E=C("drivers",()=>{const u=_("$yearInit"),s=_("$yearCrnt"),o=R(),{year:e}=S(o),{updateYear:l}=o,r=m([]),a=m(!1),c=m(null),n=async t=>{if(e.value=t,r.value.length<=0){a.value=!0;try{r.value=await V(t),console.log("DRIVER STANDINGS STORE: ",r.value)}catch(v){c.value=v.message}finally{a.value=!1}}};return k(e,(t,v)=>{t!==v&&e.value>=u&&e.value<=s&&(r.value=[],n(e.value))}),{year:e,drivers:r,isLoading:a,err:c,getDrivers:n,updateYear:l}}),j={name:"DriversView",emits:["updateRouterHistory"],components:{SeasonComp:B,DriverCard:N},setup(u,{emit:s}){const o=E(),{year:e,drivers:l}=S(o),{getDrivers:r,updateYear:a}=o;return I(()=>{r(e.value),s("updateRouterHistory",!1)}),{year:e,drivers:l,getDrivers:r,updateYear:a}}},q={key:0,class:"q-col-gutter-md row list-unstyled"},F=["id"];function H(u,s,o,e,l,r){const a=g("SeasonComp"),c=g("DriverCard");return i(),d(y,null,[s[1]||(s[1]=p("h1",null,"Drivers",-1)),f(a,{season:e.year},null,8,["season"]),e.drivers.length>0?(i(),d("ul",q,[(i(!0),d(y,null,T(e.drivers,(n,t)=>(i(),d("li",{key:"driver_"+t,id:"driver_"+t,class:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2"},[f(c,{season:e.year,driver:n.Driver,position:n.position||n.positionText},null,8,["season","driver","position"])],8,F))),128))])):(i(),x(b,{key:1,appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:D(()=>[f(h,{class:"q-py-md bg-amber-8 text-white",rounded:""},{default:D(()=>[...s[0]||(s[0]=[p("h2",{class:"text-white"},"Warning!",-1),p("p",{class:"no-margin"}," Data is missing or update is in progress. Please check back later. Tnanks! ",-1)])]),_:1})]),_:1}))],64)}const P=w(j,[["render",H],["__scopeId","data-v-ab812f42"]]);export{P as default};
