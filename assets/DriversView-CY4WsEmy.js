import{d as y,i as f,s as S,r as v,w as C,_ as w,c as d,a as m,b as _,e as D,F as g,f as R,l as V,g as p}from"./index-lzYlOZCb.js";import{u as h,S as E}from"./SeasonComp-CRkWqT5_.js";import{b as I}from"./data-BQr7bUVa.js";import{D as N}from"./DriverCard-4komfgNs.js";import"./SeasonHeading-DoV17v1a.js";import"./unknown-driver-B0WqrKIy.js";import"./QCard-CXz-CbzL.js";const T=y("drivers",()=>{const n=f("$yearInit"),s=f("$yearCrnt"),t=h(),{year:e}=S(t),{updateYear:i}=t,r=v([]),l=v(!1),c=v(null),a=async o=>{if(e.value=o,r.value.length<=0){l.value=!0;try{r.value=await I(o),console.log("DRIVERSTANDINGS STORE: ",r.value)}catch(u){c.value=u.message}finally{l.value=!1}}};return C(e,(o,u)=>{o!==u&&e.value>=n&&e.value<=s&&(r.value=[],a(e.value))}),{year:e,drivers:r,isLoading:l,err:c,getDrivers:a,updateYear:i}}),x={name:"DriversView",components:{SeasonComp:E,DriverCard:N},setup(){const n=T(),{year:s,drivers:t,isLoading:e}=S(n),{getDrivers:i,updateYear:r}=n;return V(()=>{i(s.value),console.log("DRIVERS MOUNTED: ",t)}),{year:s,drivers:t,isLoading:e,getDrivers:i,updateYear:r}}},k={class:"q-col-gutter-md row list-unstyled"},B=["id"];function L(n,s,t,e,i,r){const l=D("SeasonComp"),c=D("DriverCard");return p(),d(g,null,[s[0]||(s[0]=m("h1",null,"Drivers",-1)),_(l,{season:e.year},null,8,["season"]),m("div",null,[m("ul",k,[(p(!0),d(g,null,R(e.drivers,(a,o)=>(p(),d("li",{class:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2",key:"driver_"+o,id:"driver_"+o},[_(c,{season:e.year,driver:a.Driver,position:a.position||a.positionText},null,8,["season","driver","position"])],8,B))),128))])])],64)}const q=w(x,[["render",L]]);export{q as default};
