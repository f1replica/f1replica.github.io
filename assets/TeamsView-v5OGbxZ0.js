const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TeamDrivers-B_fMCQvR.js","assets/index-CjNhhtoy.js","assets/index-D-mdGZxK.css","assets/TeamDrivers-DVFpWHJL.css"])))=>i.map(i=>d[i]);
import{d as L,i as C,s as R,r as v,w as N,_ as D,H as I,p as k,g as h,j as d,I as E,e as y,o as c,b as i,a,c as g,h as S,t as u,T as U,F as w,f as V}from"./index-CjNhhtoy.js";import{u as O,S as Q}from"./SeasonComp-C5kaYpd3.js";import{e as q,f as x}from"./data-D2MIXG_S.js";import{Q as A,a as T}from"./QCard-W9fa1EMT.js";import{r as B,Q as M}from"./QSeparator-C4xi78VI.js";import"./SeasonHeading-HXMxUqfe.js";const b=L("teams",()=>{const n=C("$yearInit"),t=C("$yearCrnt"),s=O(),{year:e}=R(s),{updateYear:m}=s,o=v([]),r=v(!1),f=v(null),_=async l=>{if(e.value=l,o.value.length<=0){r.value=!0;try{o.value=await q(l),console.log("CONSTRUCTORSTANDINGS STORE: ",o.value)}catch(p){f.value=p.message}finally{r.value=!1}}};return N(e,(l,p)=>{l!==p&&e.value>=n&&e.value<=t&&(o.value=[],_(e.value))}),{year:e,teams:o,isLoading:r,err:f,getTeams:_,updateYear:m}}),j={name:"TeamCard",props:["season","team"],components:{TeamDrivers:I(()=>E(()=>import("./TeamDrivers-B_fMCQvR.js"),__vite__mapDeps([0,1,2,3])))},setup(n){const t=v([]),s=k(()=>B(String(n.team.Constructor.nationality)));return{drivers:t,flagURL:s}},mounted(){const n=Math.floor(Math.random()*3750)+1250;setTimeout(async()=>{const t=await x(this.season,this.team.Constructor.constructorId);this.drivers=t},n)}},P={class:"team-pstn"},F={class:"team-name"},Y={key:0,class:"has-flag"},G=["src","alt"];function H(n,t,s,e,m,o){const r=y("TeamDrivers");return c(),h(A,{class:"card full-height"},{default:d(()=>[i(T,{class:"card-header row justify-between q-pa-sm"},{default:d(()=>[a("h3",null,[a("span",P,[a("span",null,u(s.team.position),1)]),a("span",F,u(s.team.Constructor.name),1)]),e.flagURL!==void 0&&e.flagURL!==""?(c(),g("div",Y,[a("img",{src:e.flagURL,alt:s.team.Constructor.nationality},null,8,G)])):S("",!0)]),_:1}),i(M,{color:"white"}),i(T,{class:"card-body q-pa-sm"},{default:d(()=>[a("dl",null,[t[0]||(t[0]=a("dt",null,"Points",-1)),a("dd",null,u(s.team.points),1),t[1]||(t[1]=a("dt",null,"Wins",-1)),a("dd",null,u(s.team.wins),1),t[2]||(t[2]=a("dt",null,"Nationality",-1)),a("dd",null,u(s.team.Constructor.nationality),1)])]),_:1}),i(U,null,{default:d(()=>[e.drivers!==void 0&&e.drivers.length>0?(c(),h(T,{key:0,class:"card-footer q-pa-sm"},{default:d(()=>[i(r,{season:s.season,drivers:e.drivers},null,8,["season","drivers"])]),_:1})):S("",!0)]),_:1})]),_:1})}const W=D(j,[["render",H],["__scopeId","data-v-7f096559"]]),z={name:"TeamsView",components:{SeasonComp:Q,TeamCard:W},setup(){const n=b(),{year:t,teams:s,isLoading:e}=R(n),{getTeams:m,updateYear:o}=n;return{year:t,teams:s,isLoading:e,getTeams:m,updateYear:o}},mounted(){this.getTeams(this.year),console.log("TEAMS MOUNTED: ",this.teams)}},J={class:"q-col-gutter-md row list-unstyled"},K=["id"];function X(n,t,s,e,m,o){const r=y("SeasonComp"),f=y("TeamCard");return c(),g(w,null,[t[0]||(t[0]=a("h1",null,"Teams",-1)),i(r,{season:e.year},null,8,["season"]),a("ul",J,[(c(!0),g(w,null,V(e.teams,(_,l)=>(c(),g("li",{key:"team_"+l,id:"team_"+l,class:"col-12 col-sm-6 col-lg-4"},[i(f,{season:e.year,team:_},null,8,["season","team"])],8,K))),128))])],64)}const ne=D(z,[["render",X]]);export{ne as default};
